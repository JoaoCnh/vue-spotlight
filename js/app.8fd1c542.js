(function(t){function e(e){for(var r,a,c=e[0],o=e[1],u=e[2],p=0,d=[];p<c.length;p++)a=c[p],s[a]&&d.push(s[a][0]),s[a]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=o[r]);l&&l(e);while(d.length)d.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],r=!0,c=1;c<n.length;c++){var o=n[c];0!==s[o]&&(r=!1)}r&&(i.splice(e--,1),t=a(a.s=n[0]))}return t}var r={},s={app:0},i=[];function a(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=r,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(n,r,function(e){return t[e]}.bind(null,r));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var l=o;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var r=n("64a9"),s=n.n(r);s.a},"176a":function(t,e,n){"use strict";var r=n("a10b"),s=n.n(r);s.a},2930:function(t,e,n){},"2a6e":function(t,e,n){"use strict";var r=n("2930"),s=n.n(r);s.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d");var r=n("2b0e"),s=n("2f62"),i=n("ecee"),a=n("c074"),c=n("ad3d"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[t._v("\n  To open press\n  "),n("kbd",[t._v("ctrl")]),t._v("+\n  "),n("kbd",[t._v("space")]),n("spotlight",{attrs:{apiUrl:"xxx"}})],1)},u=[],l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("GlobalEvents",{on:{keydown:[function(e){return"button"in e||!t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?t.goUp(e):null},function(e){return"button"in e||!t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?t.goDown(e):null},function(e){return"button"in e||!t._k(e.keyCode,"esc",27,e.key,"Escape")?t.closeAndReset(e):null},function(e){return("button"in e||!t._k(e.keyCode,"space",32,e.key," "))&&e.ctrlKey?t.toggle(e):null}]}}),t.isOpen?n("div",{staticClass:"overlay"},[n("search-bar"),n("hits")],1):t._e()],1)},p=[],d=n("be94"),f=n("f5d4"),h=n.n(f),v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hits",class:{open:t.isOpen}},[n("div",{staticClass:"hit-list-container"},[n("ul",t._l(t.hitHeaders,function(e){return n("li",[n("div",{staticClass:"hit-result-header"},[t._v(t._s(e))]),n("ul",t._l(t.getHitByGroup(e),function(e){return n("li",{staticClass:"hit-result",class:{selected:t.isHitSelected(e.flatIndex)},on:{click:function(n){t.selectHit({index:e.flatIndex})}}},[t._v(t._s(e.name))])}))])}))]),n("div",{staticClass:"hit-detail-container"},[n("div",{staticClass:"hit-detail"},[n("img",{staticClass:"hit-detail-image",attrs:{src:t.currentHitProp("imageUrl")}}),n("h1",{staticClass:"hit-detail-title"},[t._v(t._s(t.currentHitProp("name")))]),n("span",[t._v(t._s(t.currentHitProp("type")))]),n("span",[t._v(t._s(t.currentHitProp("setName")))])])])])},b=[],g=(n("ac6a"),n("456d"),{name:"hits",computed:Object(d["a"])({},Object(s["b"])(["getHitByGroup","isHitSelected","currentHitProp"]),{hitHeaders:function(){return Object.keys(this.$store.state.hits)},isOpen:function(){return Object.keys(this.$store.state.hits).length>0}}),methods:Object(d["a"])({},Object(s["c"])(["selectHit"]))}),m=g,_=(n("176a"),n("2877")),O=Object(_["a"])(m,v,b,!1,null,"0d8dd939",null);O.options.__file="Hits.vue";var y=O.exports,x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"search-bar"},[n("div",{staticClass:"search-icon"},[n("font-awesome-icon",{attrs:{icon:"search",size:"2x"}})],1),n("input",{staticClass:"search-input",attrs:{type:"text",placeholder:"Spotlight Search",autofocus:""},on:{input:t.debounceSearch}})])},H=[],j=n("85b1"),w={name:"search-bar",methods:{debounceSearch:Object(j["a"])(function(t){t.target.value?this.$store.dispatch("search",t.target.value):this.$store.commit("reset")},500)}},k=w,S=(n("c6da"),Object(_["a"])(k,x,H,!1,null,"c7ba46d4",null));S.options.__file="SearchBar.vue";var C=S.exports,R={name:"spotlight",components:{Hits:y,SearchBar:C,GlobalEvents:h.a},props:{apiUrl:String},computed:Object(d["a"])({},Object(s["d"])(["isOpen"])),methods:Object(d["a"])({},Object(s["c"])(["toggle","goUp","goDown","closeAndReset"]))},I=R,P=(n("2a6e"),Object(_["a"])(I,l,p,!1,null,"e2e20404",null));P.options.__file="Spotlight.vue";var $=P.exports,U={name:"app",components:{Spotlight:$}},E=U,A=(n("034f"),Object(_["a"])(E,o,u,!1,null,null,null));A.options.__file="App.vue";var B=A.exports,D=(n("96cf"),n("1da1")),G=n("a474"),M=function(){return new s["a"].Store({state:{hits:{},flatHits:[],isOpen:!1,selectedResultIndex:0},getters:{isHitSelected:function(t){return function(e){return t.selectedResultIndex===e}},getHitByGroup:function(t){return function(e){return t.hits[e]}},currentHitProp:function(t){return function(e){return t.flatHits[t.selectedResultIndex][e]}}},mutations:{reset:function(t){t.hits=[],t.flatHits=[]},closeAndReset:function(t){t.isOpen=!1,this.commit("reset")},toggle:function(t){t.isOpen=!t.isOpen},goUp:function(t){t.isOpen&&(t.selectedResultIndex>0?t.selectedResultIndex--:t.selectedResultIndex=t.flatHits.length-1)},goDown:function(t){t.isOpen&&(t.selectedResultIndex<t.flatHits.length-1?t.selectedResultIndex++:t.selectedResultIndex=0)},selectHit:function(t,e){t.selectedResultIndex=e.index},updateHits:function(t,e){t.hits=e.hits,t.flatHits=e.flatHits}},actions:{search:function(){var t=Object(D["a"])(regeneratorRuntime.mark(function t(e,n){var r,s,i,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.next=3,fetch("https://api.magicthegathering.io/v1/cards?name=".concat(n));case 3:return s=t.sent,t.next=6,s.json();case 6:i=t.sent,a=i.cards.map(function(t,e){return Object(d["a"])({},t,{flatIndex:e})}),r("updateHits",{flatHits:a,hits:Object(G["a"])(a,"rarity")});case 9:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()}})};i["c"].add(a["a"]),r["a"].use(s["a"]),r["a"].component("font-awesome-icon",c["a"]),r["a"].config.productionTip=!1,new r["a"]({store:M(),render:function(t){return t(B)}}).$mount("#app")},"64a9":function(t,e,n){},a10b:function(t,e,n){},c6da:function(t,e,n){"use strict";var r=n("d55e"),s=n.n(r);s.a},d55e:function(t,e,n){}});
//# sourceMappingURL=app.8fd1c542.js.map